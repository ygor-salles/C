<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>

<!-- Mirrored from www.ime.usp.br/~pf/algoritmos_para_grafos/aulas/flow.html by HTTrack Website Copier/3.x [XR&CO'2007], Tue, 29 Apr 2008 11:36:42 GMT -->
<HEAD>
<TITLE>Algoritmos para Grafos: Fluxo</TITLE>
<META NAME="Author" CONTENT="Paulo Feofiloff">
<META name="language" content="Portuguese">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"> 
<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
<LINK rel="stylesheet" href="code.css" type="text/css">
</HEAD>
<BODY>







<p class="top">
<a href="../index.html#contents">Algoritmos em C para Grafos via Sedgewick</a>&nbsp;




<h1>Fluxo em redes</h1>


<p>
(Esta página é um resumo da parte inicial do 
capítulo&nbsp;22 (Network Flow) 
do livro de Sedgewick.&nbsp;
O&nbsp;resumo corresponde à introdução do capítulo e 
à seção&nbsp;22.1 (Flow Networks).)



<h2>Fluxo</h2>

<p id="inflowoutflow">Suponha dado um digrafo <tt>G</tt> 
e uma função&nbsp; <tt>f</tt>&nbsp;
que atribui um número não-negativo a cada arco de&nbsp;<tt>G</tt>.&nbsp;
Diremos que o valor de <tt>f</tt> num arco
é o <span class="dfn">fluxo no arco</span>.&nbsp;
Para qualquer vértice <tt>v</tt> de <tt>G</tt>,&nbsp;

o&nbsp;&nbsp;<span class="dfn">influxo 
em&nbsp;<tt>v</tt></span>&nbsp;
(=&nbsp;<i>inflow into</i>&nbsp;<tt>v</tt>)&nbsp; é 
a soma dos fluxos nos arcos que entram em&nbsp;<tt>v</tt>.&nbsp;
O&nbsp; 

<span class="dfn"
>efluxo de&nbsp;<tt>v</tt></span>&nbsp;
(=&nbsp;<i>outflow from </i>&nbsp;<tt>v</tt>) é 
a soma dos fluxos nos arcos que saem de&nbsp;<tt>v</tt>.&nbsp;
O&nbsp;<span class="dfn"
>saldo em&nbsp;<tt>v</tt></span>&nbsp;
é a diferença

<p class="display">
<tt>ef(v) - inf(v)</tt> 

<p>entre o efluxo de <tt>v</tt> e o influxo em <tt>v</tt>.&nbsp;
(Não confunda essa diferença com&nbsp;
<tt>inf(v)</tt>&nbsp;<tt>-</tt>&nbsp;<tt>ef(v)</tt>.)&nbsp;
Portanto,
o saldo em <tt>v</tt> é o que sai de <tt>v</tt>
menos o que entrou em&nbsp;<tt>v</tt>.

<p id="st">O&nbsp;enunciado do problema que estudaremos a seguir
especifica dois vértices do digrafo:&nbsp;
um <span class="dfn">vértice inicial</span>
e um <span class="dfn">vértice final</span>.
Esses vértices serão denotados por&nbsp; <tt>s</tt>&nbsp;
e&nbsp; <tt>t</tt>&nbsp; respectivamente.&nbsp;

<span class="dim">[Os vértices escolhidos para 
fazer o papel de <tt>s</tt> e <tt>t</tt> 
não precisam ter quaisquer propriedades especiais.
Na prática, entretanto,
não há mal em supor que <tt>s</tt> é uma 
<a href="digraphs.html#sourceandsink">fonte</a>
e <tt>t</tt> é um 
<a href="digraphs.html#sourceandsink">sorvedouro</a>.
Poderíamos até mesmo supor que <tt>s</tt> é a única fonte 
e <tt>t</tt> o único sorvedouro do digrafo.]</span>


<p id="flow">Num digrafo <tt>G</tt> 
com vértice inicial <tt>s</tt> e vértice final <tt>t</tt>,
um&nbsp; 
<span class="dfn">&nbsp;fluxo&nbsp;</span>&nbsp;
(=&nbsp;<i>flow</i>)&nbsp;
é uma função <tt>f</tt>
que atribui números não-negativos aos arcos de <tt>G</tt>
de tal modo que

<p class="display">
o saldo de <tt>f</tt> 
em todo vértice distinto de <tt>s</tt> e <tt>t</tt>
é nulo

<p>e o saldo em <tt>s</tt> não é negativo.&nbsp;&nbsp;
É&nbsp;fácil mostrar a seguinte 

<blockquote class="display" id="property22.1">
<span class="sc">Propriedade do Fluxo</span>
(Property 22.1, p.362, Sedgewick):&nbsp;
Para qualquer fluxo num digrafo com vértice inicial <tt>s</tt> 
e vértice final&nbsp;<tt>t</tt>,
o&nbsp;saldo em <tt>t</tt> é igual ao saldo 
em&nbsp;<tt>s</tt> com sinal trocado.
</blockquote>


<p id="flowvalue">A&nbsp; 
<span class="dfn">intensidade</span>&nbsp;
de um fluxo <tt>f</tt> é
o saldo de <tt>f</tt> em&nbsp;<tt>s</tt>.&nbsp;
De acordo com a propriedade acima, 
a intensidade de <tt>f</tt>
é igual ao negativo do saldo em&nbsp;<tt>t</tt>.&nbsp;&nbsp;
Em geral (mas nem sempre)
o influxo em <tt>s</tt> é nulo e o efluxo de <tt>t</tt> é nulo.
Quando isso acontece, a intensidade do fluxo é
igual ao efluxo de <tt>s</tt> 
e portanto também igual ao influxo em&nbsp;<tt>t</tt>.


<p><span class="sc">Exemplo trivial:</span> 
A função que associa <tt>0</tt> a cada arco é um fluxo.
A&nbsp;intensidade desse fluxo nulo é&nbsp;<tt>0</tt>.



<h2>Exercícios</h2>

<ol start=1>

<li class="exr">
A tabela abaixo define um fluxo?&nbsp;
Se sua resposta for afirmativa,
qual o vértice inicial e o final?&nbsp;
Qual a intensidade do fluxo?
<pre class="small">
            arco  f
            0-1   1
            0-4   2
            1-5   5
            2-0   1
            2-3   1
            2-4   1
            4-3   3
            5-0   2
            5-2   3
</pre>



<li class="exr">
A tabela abaixo define um fluxo?&nbsp;
Qual o vértice inicial e o final?&nbsp;
Qual a intensidade do fluxo?
<pre class="small">
            arco  f
            0-1   0
            0-4   3
            1-5   3
            2-0   1
            2-3   1
            2-4   0
            4-3   3
            5-0   1
            5-2   2
</pre>

</ol>





<h2 id="saldoemS">Saldo de fluxo num conjunto de vértices</h2>

<p>A definição de saldo de um fluxo
pode ser estendida aos conjuntos de vértices 
que "separam" o vértice inicial do final.&nbsp;
Dado um conjunto <tt>S</tt> 
que contém <tt>s</tt> mas não contém&nbsp;<tt>t</tt>,
o&nbsp; efluxo de <tt>S</tt>&nbsp;
é a soma dos fluxos nos arcos que saem de&nbsp;<tt>S</tt>
e o&nbsp; influxo em <tt>S</tt>&nbsp; 
é a soma dos fluxos nos arcos que entram em&nbsp;<tt>S</tt>.&nbsp;
O&nbsp;saldo em <tt>S</tt>&nbsp; é a diferença

<p class="display"><tt>ef(S) - inf(S)</tt>,

<p>entre o efluxo de <tt>S</tt> 
e o influxo em&nbsp;<tt>S</tt>.

<blockquote class="display" id="property22.3">
<span class="sc">Propriedade dos Saldos</span>
(Property&nbsp;22.3, p.374, Sedgewick):&nbsp;
Para qualquer fluxo num digrafo com vértice inicial <tt>s</tt> 
e vértice final&nbsp;<tt>t</tt>
e para qualquer conjunto <tt>S</tt> que contém <tt>s</tt> mas
não contém <tt>t</tt>,&nbsp;
o saldo em <tt>S</tt> 
é igual ao saldo em&nbsp;<tt>s</tt>.
</blockquote>

<p>Em outras palavras,
para qualquer conjunto <tt>S</tt> que contém <tt>s</tt> mas
não contém <tt>t</tt>,
o saldo em <tt>S</tt> é igual à intensidade do fluxo.



<h2>Exemplo 1</h2>

<p>No digrafo abaixo
(copiado da figura 22.5, p.359, de Sedgewick),
o vértice inicial é <tt>0</tt> 
e o vértice final é <tt>5</tt>.&nbsp;
A tabela especifica um fluxo de intensidade&nbsp;<tt>4</tt>:
<pre>
    arco  f
    0-1   2
    0-2   2
    1-3   1
    1-4   1
    2-3   1
    2-4   1
    3-5   2
    4-5   2
</pre>





<h2>Exercícios</h2>

<ol start=3>

<li class="exr">
A figura define um fluxo num digrafo 
com vértice inicial <tt>0</tt> e vértice final&nbsp;<tt>3</tt>.
<pre class="small">
            arco  f
            0-1   2
            0-2   0
            1-2   2
            1-3   0
            2-3   2
</pre>
<p>A soma dos fluxos que saem do vértice <tt>0</tt> é&nbsp;<tt>2</tt>,
mas alguma coisa deve estar errada, 
pois a soma dos fluxos que saem do conjunto de vértices <tt>{0,2}</tt> 
é diferente de&nbsp;<tt>2</tt>.&nbsp;
O&nbsp;que está errado?

</ol>






<h2>Fluxo versus coleção de caminhos</h2>

<p>Todo fluxo por ser representado por uma coleção de caminhos.
Cada caminho começa em <tt>s</tt>, termina em <tt>t</tt>,
e "conduz" uma certa "quantidade de fluxo".
A soma das quantidades de fluxo conduzidas pelos caminhos é igual 
à intensidade do fluxo.
(Os caminhos da coleção têm, tipicamente, muitos vértices e arcos em comum.)




<h2 id="capacitatednetwork">Redes capacitadas</h2>

<p>Uma rede capacitada é um digrafo com 
<a href="#st">vértice inicial</a> e
<a href="#st">vértice final</a> 
a cada um de cujos arcos está associado um número que
chamaremos <span class="dfn">capacidade</span> do arco.&nbsp;



<p id="integercapacity">As capacidades dos arcos 
são números <i>inteiros não-negativos</i>.&nbsp;
[Essa hipótese é importante para que nossos algoritmos convirjam.]&nbsp;
Mais que isso,
suporemos que as capacidades de todos os arcos pertencem
ao intervalo fechado

<p class="display"><tt>[0, M-1]</tt>,

<p>sendo <tt>M</tt> uma constante inteira positiva.

<p>Em suma, 

uma <span class="dfn">rede capacitada</span> 
é um digrafo na qual foram especificados
<ul>
<li>um vértice inicial,
<li>um vértice final&nbsp; e
<li>uma capacidade inteira não-negativa para cada arco.
</ul>







<h2 id="maxflowproblem">O problema do fluxo máximo</h2>

<p id="respectscapacity">
Numa rede capacitada com capacidades <tt>c</tt>,
dizemos que um fluxo&nbsp; <tt>f</tt>&nbsp;
<span class="dfn">respeita</span>&nbsp;
a capacidade se 

<p class="display">
<tt>f(a)</tt>&nbsp; &le;&nbsp; <tt>c(a)</tt>

<p>para cada arco&nbsp;<tt>a</tt>.&nbsp;&nbsp;
Eis o problema central deste capítulo:

<blockquote class="display">
<span class="sc">Problema do Fluxo Máximo</span> 
(=&nbsp;<i>Maximum Flow Problem</i>):&nbsp;&nbsp;
Dada uma rede capacitada,&nbsp;
encontrar um fluxo de intensidade máxima 
dentre os que respeitam as capacidades dos arcos.
</blockquote>










<h2 id="fig22.6">Exemplo 2</h2>

<p>A tabela abaixo especifica uma 

rede capacitada 
com vértice inicial <tt>0</tt> 
e vértice final&nbsp;<tt>5</tt>.&nbsp;
A&nbsp;última coluna da tabela especifica um fluxo 
de intensidade <tt>3</tt> que respeita as capacidades.
<pre>
     s = 0   arco  cap   f
     t = 5   0-1   2     2
             0-2   3     1
             1-3   3     2
             <span class="ddim">1-4   1     0</span>
             <span class="ddim">2-3   1     0</span>
             2-4   1     1
             3-5   2     2 
             4-5   3     1
</pre>

<p>A próxima tabela especifica outro fluxo
que respeita as capacidades e tem intensidade&nbsp;<tt>4</tt>:
<pre>
             arco  cap  f
             0-1   2    2
             0-2   3    2
             1-3   3    1
             1-4   1    1
             2-3   1    1
             2-4   1    1
             3-5   2    2
             4-5   3    2
</pre>

<p>Esse fluxo é máximo?&nbsp;
(Exemplo copiado da figura 22.6, p.360, de Sedgewick.)



<h2>Exercícios</h2>

<ol start=4>

<li class="exr" id="E22.1">
Encontre dois fluxos máximos na rede capacitada abaixo:
<pre id="fig22.11" class="small">
                arco  cap            s = 0
                0-1   2              t = 5
                0-2   3
                0-3   2
                1-2   1
                1-3   1
                1-4   1
                2-4   1
                2-5   2
                3-4   2
                3-5   3
                4-5   2
</pre>

<li class="exr" id="E22.2">
Suponha que uma rede capacitada tem <tt>V</tt> vértices e <tt>A</tt> arcos.
Suponha ainda que as capacidades são números inteiros 
menores que&nbsp;<tt>M</tt>.
Qual é a maior intensidade de fluxo que posso ter nessa rede 
(para quaisquer vértices inicial e final)?&nbsp;


</ol>




<h2>Aplicações</h2>

<ul>
<li>
fluxo de petróleo do poço para a refinaria
<li>
distribuição de mercadorias de produtores a consumidores
<li>
"casamento" entre operários e máquinas
(=&nbsp;<i>job placement</i>)
<li>
"casamento" de desempregados com empregos 
(=&nbsp;<i>job placement</i>)
</ul>






<h2>Exercícios</h2>

<ol start=6>

<li class="exr" id="E22.3">
Seja <tt>G</tt> uma rede capacitada com vértice inicial <tt>s</tt> 
e vértice final <tt>t</tt>.
Suponha que o digrafo <tt>G-t</tt> 
é uma <a href="arborescences.html">arborescência</a> 
com raiz&nbsp;<tt>s</tt>.&nbsp;
Descreva um algoritmo para calcular um fluxo máximo 
nessa rede.


<li class="exr" id="E22.15">
Encontre todos os fluxos máximos na rede capacitada abaixo.&nbsp;
<pre id="fig22.12" class="small">
         arco  cap     s = 0  t = 5
         0-1   2
         0-2   3
         0-3   2
         1-3   1
         1-4   1
         2-1   1
         2-5   2
         3-4   2
         3-5   3
         4-2   1
         4-5   2
</pre>

</ol>










<p>&nbsp;
<hr>
<small>

Last modified: Thu Feb 15 08:55:42 BRST 2007
</small>

</BODY>

<!-- Mirrored from www.ime.usp.br/~pf/algoritmos_para_grafos/aulas/flow.html by HTTrack Website Copier/3.x [XR&CO'2007], Tue, 29 Apr 2008 11:36:42 GMT -->
</HTML>
